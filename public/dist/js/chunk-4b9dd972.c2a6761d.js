(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4b9dd972"],{"2d2d":function(e,t,l){},"2fab":function(e,t){e.exports="data:image/jpeg;base64,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"},3554:function(e,t,l){},3766:function(e,t,l){"use strict";l.d(t,"a",function(){return o}),l.d(t,"b",function(){return r}),l.d(t,"c",function(){return n}),l.d(t,"e",function(){return s}),l.d(t,"d",function(){return c});var i=l("b775");function a(e){return Object(i.a)({url:"/admin/setting/set",method:"post",params:{},data:{data:e}})}function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return Object(i.a)({url:"/admin/setting/list",method:"post",params:{},data:{module:e,code:t}})}function r(e){return a(e)}function n(e){return Object(i.a)({url:"/admin/setting/upload",method:"post",params:{},data:{data:e}})}function s(e){return Object(i.a)({url:"/admin/setting/wxapp",method:"post",params:{},data:{data:e}})}function c(e){return Object(i.a)({url:"/admin/setting/webapp",method:"post",params:{},data:{data:e}})}},4099:function(e,t,l){"use strict";l.r(t);var m=l("3766"),i=(l("ac4d"),l("8a81"),l("ac6a"),l("7e4c")),a=l("ca00"),o={components:{csUpload:function(){return l.e("chunk-2c5690ce").then(l.bind(null,"8422"))},UploadImage:i.a},data:function(){return{tittle:"选择图片",isShowImg:!1,width:"60%",height:"1000px",loading:!1,form:null,platforms:[]}},filters:{getPreviewUrl:function(e){return e?a.a.getImageCodeUrl(e):""}},methods:{acceptImg2:function(){},_getUploadFileList:function(e,t){if(e.length){var l=e[0].response;l&&200===l.status&&(this.form[t].value="","qrcode_logo"===t&&(this.form[t].value+=document.location.protocol,this.form[t].value+="//"),this.form[t].value+=l.data[0].url)}},setFormData:function(e){for(var t in this.form=e,this.platforms=[],this.form.platform.value)this.form.platform.value.hasOwnProperty(t)&&this.platforms.push({key:t,value:this.form.platform.value[t]});this.form.allow_origin.value.length||(this.form.allow_origin.value=[""]),this.platforms.length||(this.platforms=[{key:null,value:""}])},handleFormSubmit:function(){var e=this,t={};for(var l in this.form)this.form.hasOwnProperty(l)&&(t[l]=this.form[l].value);var i={},a=!0,o=!1,r=void 0;try{for(var n,s=this.platforms[Symbol.iterator]();!(a=(n=s.next()).done);a=!0){var c=n.value;i[c.key]=c.value}}catch(e){o=!0,r=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw r}}this.loading=!0,t.platform=JSON.stringify(i),Object(m.b)(t).then(function(){e.$message.success("操作成功")}).finally(function(){e.loading=!1})}}},r=(l("47c3"),l("2877")),n=Object(r.a)(o,function(){var i=this,e=i.$createElement,a=i._self._c||e;return i.form?a("el-form",{attrs:{model:i.form,"label-width":"200px"}},[a("cs-upload",{ref:"upload",staticStyle:{display:"none"},attrs:{type:"slot",accept:"image/*",limit:1,multiple:!1},on:{confirm:i._getUploadFileList}}),a("el-divider",[i._v("基础设置")]),a("el-form-item",{attrs:{label:i.form.name.description,prop:"name"}},[a("el-input",{attrs:{placeholder:i.form.name.description,clearable:!0},model:{value:i.form.name.value,callback:function(e){i.$set(i.form.name,"value",e)},expression:"form.name.value"}}),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.name.help_text)}})],1),a("el-form-item",{attrs:{label:i.form.title.description,prop:"title"}},[a("el-input",{attrs:{placeholder:i.form.title.description,clearable:!0},model:{value:i.form.title.value,callback:function(e){i.$set(i.form.title,"value",e)},expression:"form.title.value"}}),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.title.help_text)}})],1),a("el-form-item",{attrs:{label:i.form.keywords.description,prop:"keywords"}},[a("el-input",{attrs:{placeholder:i.form.keywords.description,clearable:!0},model:{value:i.form.keywords.value,callback:function(e){i.$set(i.form.keywords,"value",e)},expression:"form.keywords.value"}}),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.keywords.help_text)}})],1),a("el-form-item",{attrs:{label:i.form.description.description,prop:"description"}},[a("el-input",{attrs:{placeholder:i.form.description.description,type:"textarea",rows:5},model:{value:i.form.description.value,callback:function(e){i.$set(i.form.description,"value",e)},expression:"form.description.value"}}),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.description.help_text)}})],1),a("el-form-item",{attrs:{label:i.form.logo.description,prop:"logo"}},[a("el-input",{attrs:{placeholder:i.form.logo.description,clearable:!0},model:{value:i.form.logo.value,callback:function(e){i.$set(i.form.logo,"value",e)},expression:"form.logo.value"}},[a("template",{slot:"prepend"},[i.form.logo.value?a("el-popover",{attrs:{width:"150",placement:"top",trigger:"hover"}},[a("div",{staticClass:"popover-image"},[a("el-image",{attrs:{src:i._f("getPreviewUrl")(i.form.logo.value),fit:"fill"},nativeOn:{click:function(e){return i.$preview(i.form.logo.value)}}})],1),a("cs-icon",{attrs:{slot:"reference",name:"image"},slot:"reference"})],1):i._e()],1),a("el-button",{attrs:{slot:"append"},on:{click:function(e){return i.$refs.upload.handleUploadDlg("logo")}},slot:"append"},[a("cs-icon",{attrs:{name:"upload"}})],1)],2),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.logo.help_text)}})],1),a("el-form-item",{attrs:{label:i.form.logo.description}},[a("UploadImage",{ref:"progressOne",attrs:{isShowImg:i.isShowImg,title:i.tittle,width:i.width,height:i.height},on:{uploadsendImg:i.acceptImg2}})],1),a("el-divider",[i._v("备案许可")]),a("el-form-item",{attrs:{label:i.form.miitbeian.description,prop:"miitbeian"}},[a("el-input",{attrs:{placeholder:i.form.miitbeian.description,clearable:!0},model:{value:i.form.miitbeian.value,callback:function(e){i.$set(i.form.miitbeian,"value",e)},expression:"form.miitbeian.value"}}),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.miitbeian.help_text)}})],1),a("el-form-item",{attrs:{label:i.form.miitbeian_url.description,prop:"miitbeian_url"}},[a("el-input",{attrs:{placeholder:i.form.miitbeian_url.description,clearable:!0},model:{value:i.form.miitbeian_url.value,callback:function(e){i.$set(i.form.miitbeian_url,"value",e)},expression:"form.miitbeian_url.value"}}),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.miitbeian_url.help_text)}})],1),a("el-form-item",{attrs:{label:i.form.miitbeian_ico.description,prop:"miitbeian_ico"}},[a("el-input",{attrs:{placeholder:i.form.miitbeian_ico.description,clearable:!0},model:{value:i.form.miitbeian_ico.value,callback:function(e){i.$set(i.form.miitbeian_ico,"value",e)},expression:"form.miitbeian_ico.value"}},[a("template",{slot:"prepend"},[i.form.miitbeian_ico.value?a("el-popover",{attrs:{width:"150",placement:"top",trigger:"hover"}},[a("div",{staticClass:"popover-image"},[a("el-image",{attrs:{src:i._f("getPreviewUrl")(i.form.miitbeian_ico.value),fit:"fill"},nativeOn:{click:function(e){return i.$preview(i.form.miitbeian_ico.value)}}})],1),a("cs-icon",{attrs:{slot:"reference",name:"image"},slot:"reference"})],1):i._e()],1),a("el-button",{attrs:{slot:"append"},on:{click:function(e){return i.$refs.upload.handleUploadDlg("miitbeian_ico")}},slot:"append"},[a("cs-icon",{attrs:{name:"upload"}})],1)],2),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.miitbeian_ico.help_text)}})],1),a("el-form-item",{attrs:{label:i.form.beian.description,prop:"beian"}},[a("el-input",{attrs:{placeholder:i.form.beian.description,clearable:!0},model:{value:i.form.beian.value,callback:function(e){i.$set(i.form.beian,"value",e)},expression:"form.beian.value"}}),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.beian.help_text)}})],1),a("el-form-item",{attrs:{label:i.form.beian_url.description,prop:"beian_url"}},[a("el-input",{attrs:{placeholder:i.form.beian_url.description,clearable:!0},model:{value:i.form.beian_url.value,callback:function(e){i.$set(i.form.beian_url,"value",e)},expression:"form.beian_url.value"}}),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.beian_url.help_text)}})],1),a("el-form-item",{attrs:{label:i.form.beian_ico.description,prop:"beian_ico"}},[a("el-input",{attrs:{placeholder:i.form.beian_ico.description,clearable:!0},model:{value:i.form.beian_ico.value,callback:function(e){i.$set(i.form.beian_ico,"value",e)},expression:"form.beian_ico.value"}},[a("template",{slot:"prepend"},[i.form.beian_ico.value?a("el-popover",{attrs:{width:"150",placement:"top",trigger:"hover"}},[a("div",{staticClass:"popover-image"},[a("el-image",{attrs:{src:i._f("getPreviewUrl")(i.form.beian_ico.value),fit:"fill"},nativeOn:{click:function(e){return i.$preview(i.form.beian_ico.value)}}})],1),a("cs-icon",{attrs:{slot:"reference",name:"image"},slot:"reference"})],1):i._e()],1),a("el-button",{attrs:{slot:"append"},on:{click:function(e){return i.$refs.upload.handleUploadDlg("beian_ico")}},slot:"append"},[a("cs-icon",{attrs:{name:"upload"}})],1)],2),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.beian_ico.help_text)}})],1),a("el-divider",[i._v("状态设置")]),a("el-form-item",{attrs:{label:i.form.open_index.description,prop:"open_index"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:i.form.open_index.value,callback:function(e){i.$set(i.form.open_index,"value",e)},expression:"form.open_index.value"}}),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.open_index.help_text)}})],1),a("el-form-item",{attrs:{label:i.form.open_mobile.description,prop:"open_mobile"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:i.form.open_mobile.value,callback:function(e){i.$set(i.form.open_mobile,"value",e)},expression:"form.open_mobile.value"}}),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.open_mobile.help_text)}})],1),a("el-form-item",{attrs:{label:i.form.open_api.description,prop:"open_api"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:i.form.open_api.value,callback:function(e){i.$set(i.form.open_api,"value",e)},expression:"form.open_api.value"}}),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.open_api.help_text)}})],1),a("el-form-item",{attrs:{label:i.form.close_reason.description,prop:"close_reason"}},[a("el-input",{attrs:{placeholder:i.form.close_reason.description,clearable:!0},model:{value:i.form.close_reason.value,callback:function(e){i.$set(i.form.close_reason,"value",e)},expression:"form.close_reason.value"}}),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.close_reason.help_text)}})],1),a("el-divider",[i._v("定义平台")]),i._l(i.platforms,function(t,l){return a("el-form-item",{key:"platform_"+l,attrs:{label:""+i.form.platform.description+l}},[a("el-input",{staticClass:"dynamic-platform-key",attrs:{placeholder:"序列值",clearable:!0},model:{value:t.key,callback:function(e){i.$set(t,"key",e)},expression:"platform.key"}}),a("el-input",{staticClass:"dynamic-platform-value",attrs:{placeholder:"平台名称",clearable:!0},model:{value:t.value,callback:function(e){i.$set(t,"value",e)},expression:"platform.value"}}),1<i.platforms.length?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){return e.preventDefault(),i.platforms.splice(l,1)}}},[i._v("删除")]):i._e()],1)}),a("el-form-item",{attrs:{size:"small"}},[a("el-button",{on:{click:function(e){return i.platforms.push({key:null,value:""})}}},[i._v("新增平台")]),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.platform.help_text)}})],1),a("el-divider",[i._v("跨域访问")]),i._l(i.form.allow_origin.value,function(e,t){return a("el-form-item",{key:"domain_"+t,attrs:{label:""+i.form.allow_origin.description+t}},[a("el-input",{staticClass:"dynamic-domain",attrs:{placeholder:"域名地址",clearable:!0},model:{value:i.form.allow_origin.value[t],callback:function(e){i.$set(i.form.allow_origin.value,t,e)},expression:"form.allow_origin.value[index]"}}),1<i.form.allow_origin.value.length?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){return e.preventDefault(),i.form.allow_origin.value.splice(t,1)}}},[i._v("删除")]):i._e()],1)}),a("el-form-item",{attrs:{size:"small"}},[a("el-button",{on:{click:function(e){return i.form.allow_origin.value.push("")}}},[i._v("新增域名")]),a("div",{staticClass:"help-block",domProps:{innerHTML:i._s(i.form.allow_origin.help_text)}})],1),a("el-divider",[i._v("其他设置")]),a("el-form-item",{attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary",loading:i.loading},on:{click:i.handleFormSubmit}},[i._v("保存")])],1)],2):i._e()},[],!1,null,"7e23fe7e",null).exports,s=(l("28a5"),l("a320")),c={components:{csTabEdit:function(){return l.e("chunk-2d114d86").then(l.bind(null,"d20f"))}},data:function(){return{form:null,loading:!1,uploadTable:[],imageExt:[],fileExt:[],fileSize:["1M","2M","3M","5M","10M","50M","100M"]}},mounted:function(){var t=this;Object(s.a)().then(function(e){t.uploadTable=e.data})},methods:{setFormData:function(e){this.form=e,this.imageExt=e.image_ext.value?e.image_ext.value.split(","):[],this.fileExt=e.file_ext.value?e.file_ext.value.split(","):[]},handleFormSubmit:function(){var e=this,t={};for(var l in this.form)this.form.hasOwnProperty(l)&&(t[l]=this.form[l].value);this.loading=!0,t.image_ext=this.imageExt.join(","),t.file_ext=this.fileExt.join(","),Object(m.c)(t).then(function(){e.$message.success("操作成功")}).finally(function(){e.loading=!1})}}},p=Object(r.a)(c,function(){var l=this,e=l.$createElement,i=l._self._c||e;return l.form?i("el-form",{attrs:{model:l.form,"label-width":"200px"}},[i("el-divider",[l._v("基础设置")]),i("el-form-item",{attrs:{label:l.form.default.description,prop:"default"}},[i("el-radio-group",{model:{value:l.form.default.value,callback:function(e){l.$set(l.form.default,"value",e)},expression:"form.default.value"}},l._l(l.uploadTable,function(e,t){return i("el-radio",{key:t,attrs:{label:e.module}},[l._v(l._s(e.name))])}),1),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.default.help_text)}})],1),i("el-form-item",{attrs:{label:l.form.oss.description,prop:"oss"}},[i("el-input",{attrs:{placeholder:l.form.oss.description,clearable:!0},model:{value:l.form.oss.value,callback:function(e){l.$set(l.form.oss,"value",e)},expression:"form.oss.value"}}),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.oss.help_text)}})],1),i("el-form-item",{attrs:{label:l.form.image_ext.description,prop:"image_ext"}},[i("cs-tab-edit",{attrs:{type:"info",effect:"plain"},model:{value:l.imageExt,callback:function(e){l.imageExt=e},expression:"imageExt"}}),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.image_ext.help_text)}})],1),i("el-form-item",{attrs:{label:l.form.file_ext.description,prop:"file_ext"}},[i("cs-tab-edit",{attrs:{type:"info",effect:"plain"},model:{value:l.fileExt,callback:function(e){l.fileExt=e},expression:"fileExt"}}),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.file_ext.help_text)}})],1),i("el-form-item",{attrs:{label:l.form.file_size.description,prop:"file_size"}},[i("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择",value:""},model:{value:l.form.file_size.value,callback:function(e){l.$set(l.form.file_size,"value",e)},expression:"form.file_size.value"}},l._l(l.fileSize,function(e){return i("el-option",{key:e,attrs:{value:e}})}),1),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.file_size.help_text)}})],1),i("el-divider",[l._v("(本地上传)")]),i("el-form-item",{attrs:{label:l.form.ox_url.description,prop:"ox_url"}},[i("el-input",{attrs:{placeholder:l.form.ox_url.description,clearable:!0},model:{value:l.form.ox_url.value,callback:function(e){l.$set(l.form.ox_url,"value",e)},expression:"form.ox_url.value"}}),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.ox_url.help_text)}})],1),i("el-divider",[l._v("七牛云 KODO")]),i("el-form-item",{attrs:{label:l.form.qiniu_access_key.description,prop:"qiniu_access_key"}},[i("el-input",{attrs:{placeholder:l.form.qiniu_access_key.description,clearable:!0},model:{value:l.form.qiniu_access_key.value,callback:function(e){l.$set(l.form.qiniu_access_key,"value",e)},expression:"form.qiniu_access_key.value"}}),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.qiniu_access_key.help_text)}})],1),i("el-form-item",{attrs:{label:l.form.qiniu_secret_key.description,prop:"qiniu_secret_key"}},[i("el-input",{attrs:{placeholder:l.form.qiniu_secret_key.description,clearable:!0},model:{value:l.form.qiniu_secret_key.value,callback:function(e){l.$set(l.form.qiniu_secret_key,"value",e)},expression:"form.qiniu_secret_key.value"}}),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.qiniu_secret_key.help_text)}})],1),i("el-form-item",{attrs:{label:l.form.qiniu_bucket.description,prop:"qiniu_bucket"}},[i("el-input",{attrs:{placeholder:l.form.qiniu_bucket.description,clearable:!0},model:{value:l.form.qiniu_bucket.value,callback:function(e){l.$set(l.form.qiniu_bucket,"value",e)},expression:"form.qiniu_bucket.value"}}),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.qiniu_bucket.help_text)}})],1),i("el-form-item",{attrs:{label:l.form.qiniu_url.description,prop:"qiniu_url"}},[i("el-input",{attrs:{placeholder:l.form.qiniu_url.description,clearable:!0},model:{value:l.form.qiniu_url.value,callback:function(e){l.$set(l.form.qiniu_url,"value",e)},expression:"form.qiniu_url.value"}}),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.qiniu_url.help_text)}})],1),i("el-divider",[l._v("阿里云 OSS")]),i("el-form-item",{attrs:{label:l.form.aliyun_access_key.description,prop:"aliyun_access_key"}},[i("el-input",{attrs:{placeholder:l.form.aliyun_access_key.description,clearable:!0},model:{value:l.form.aliyun_access_key.value,callback:function(e){l.$set(l.form.aliyun_access_key,"value",e)},expression:"form.aliyun_access_key.value"}}),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.aliyun_access_key.help_text)}})],1),i("el-form-item",{attrs:{label:l.form.aliyun_secret_key.description,prop:"aliyun_secret_key"}},[i("el-input",{attrs:{placeholder:l.form.aliyun_secret_key.description,clearable:!0},model:{value:l.form.aliyun_secret_key.value,callback:function(e){l.$set(l.form.aliyun_secret_key,"value",e)},expression:"form.aliyun_secret_key.value"}}),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.aliyun_secret_key.help_text)}})],1),i("el-form-item",{attrs:{label:l.form.aliyun_bucket.description,prop:"aliyun_bucket"}},[i("el-input",{attrs:{placeholder:l.form.aliyun_bucket.description,clearable:!0},model:{value:l.form.aliyun_bucket.value,callback:function(e){l.$set(l.form.aliyun_bucket,"value",e)},expression:"form.aliyun_bucket.value"}}),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.aliyun_bucket.help_text)}})],1),i("el-form-item",{attrs:{label:l.form.aliyun_url.description,prop:"aliyun_url"}},[i("el-input",{attrs:{placeholder:l.form.aliyun_url.description,clearable:!0},model:{value:l.form.aliyun_url.value,callback:function(e){l.$set(l.form.aliyun_url,"value",e)},expression:"form.aliyun_url.value"}}),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.aliyun_url.help_text)}})],1),i("el-form-item",{attrs:{label:l.form.aliyun_endpoint.description,prop:"aliyun_endpoint"}},[i("el-input",{attrs:{placeholder:l.form.aliyun_endpoint.description,clearable:!0},model:{value:l.form.aliyun_endpoint.value,callback:function(e){l.$set(l.form.aliyun_endpoint,"value",e)},expression:"form.aliyun_endpoint.value"}}),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.aliyun_endpoint.help_text)}})],1),i("el-form-item",{attrs:{label:l.form.aliyun_rolearn.description,prop:"aliyun_rolearn"}},[i("el-input",{attrs:{placeholder:l.form.aliyun_rolearn.description,clearable:!0},model:{value:l.form.aliyun_rolearn.value,callback:function(e){l.$set(l.form.aliyun_rolearn,"value",e)},expression:"form.aliyun_rolearn.value"}}),i("div",{staticClass:"help-block",domProps:{innerHTML:l._s(l.form.aliyun_rolearn.help_text)}})],1),i("el-form-item",{attrs:{size:"small"}},[i("el-button",{attrs:{type:"primary",loading:l.loading},on:{click:l.handleFormSubmit}},[l._v("保存")])],1)],1):l._e()},[],!1,null,null,null).exports,u={data:function(){return{loading:!1,form:null}},methods:{setFormData:function(e){this.form=e},handleFormSubmit:function(){var e=this,t={};for(var l in this.form)this.form.hasOwnProperty(l)&&(t[l]=this.form[l].value);this.loading=!0,Object(m.e)(t).then(function(){e.$message.success("操作成功")}).finally(function(){e.loading=!1})}}},f=Object(r.a)(u,function(){var t=this,e=t.$createElement,l=t._self._c||e;return t.form?l("el-form",{attrs:{model:t.form,"label-width":"200px"}},[l("el-form-item",{attrs:{label:t.form.appid.description,prop:"appid"}},[l("el-input",{attrs:{placeholder:t.form.appid.description,clearable:!0},model:{value:t.form.appid.value,callback:function(e){t.$set(t.form.appid,"value",e)},expression:"form.appid.value"}}),l("div",{staticClass:"help-block",domProps:{innerHTML:t._s(t.form.appid.help_text)}})],1),l("el-form-item",{attrs:{label:t.form.appsecret.description,prop:"appsecret"}},[l("el-input",{attrs:{placeholder:t.form.appsecret.description,clearable:!0},model:{value:t.form.appsecret.value,callback:function(e){t.$set(t.form.appsecret,"value",e)},expression:"form.appsecret.value"}}),l("div",{staticClass:"help-block",domProps:{innerHTML:t._s(t.form.appsecret.help_text)}})],1),l("el-form-item",{attrs:{size:"small"}},[l("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handleFormSubmit}},[t._v("保存")])],1)],1):t._e()},[],!1,null,null,null).exports,d={data:function(){return{loading:!1,form:null}},methods:{setFormData:function(e){this.form=e},handleFormSubmit:function(){var e=this,t={};for(var l in this.form)this.form.hasOwnProperty(l)&&(t[l]=this.form[l].value);this.loading=!0,Object(m.d)(t).then(function(){e.$message.success("操作成功")}).finally(function(){e.loading=!1})}}},v={name:"setting-setting-system",components:{"system-info":n,upload:p,webapp:Object(r.a)(d,function(){var t=this,e=t.$createElement,l=t._self._c||e;return t.form?l("el-form",{attrs:{model:t.form,"label-width":"200px"}},[l("el-form-item",{attrs:{label:t.form.appid.description,prop:"appid"}},[l("el-input",{attrs:{placeholder:t.form.appid.description,clearable:!0},model:{value:t.form.appid.value,callback:function(e){t.$set(t.form.appid,"value",e)},expression:"form.appid.value"}}),l("div",{staticClass:"help-block",domProps:{innerHTML:t._s(t.form.appid.help_text)}})],1),l("el-form-item",{attrs:{size:"small"}},[l("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handleFormSubmit}},[t._v("保存")])],1)],1):t._e()},[],!1,null,null,null).exports,wxapp:f},data:function(){return{loading:!1,activeName:"system_info"}},watch:{activeName:{handler:function(){this.systemInit()}}},mounted:function(){this.systemInit()},methods:{systemInit:function(){var t=this;this.loading=!0,Object(m.a)(this.activeName).then(function(e){t.$refs[t.activeName].setFormData(e.data)}).finally(function(){t.loading=!1})}}},h=(l("ec90"),Object(r.a)(v,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("cs-container",{attrs:{"is-back-to-top":!0}},[l("div",{staticClass:"cs-p"},[l("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"tab-box",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[l("el-tab-pane",{attrs:{label:"系统配置",name:"system_info"}},[l("system-info",{ref:"system_info"})],1),l("el-tab-pane",{attrs:{label:"小程序配置",name:"wxapp"}},[l("wxapp",{ref:"wxapp"})],1),l("el-tab-pane",{attrs:{label:"公众号配置",name:"webapp"}},[l("webapp",{ref:"webapp"})],1),l("el-tab-pane",{attrs:{label:"上传配置",name:"upload"}},[l("upload",{ref:"upload"})],1)],1)],1)])},[],!1,null,"a901c7ee",null));t.default=h.exports},"47c3":function(e,t,l){"use strict";var i=l("6a14");l.n(i).a},"572e":function(e,t,l){"use strict";var i=l("3554");l.n(i).a},"6a14":function(e,t,l){},"7e4c":function(e,t,l){"use strict";l("8e6e"),l("ac6a"),l("456d");var i=l("bd86"),a=(l("c5f6"),l("b775"));var o=l("ca00");function r(t,e){var l=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,i)}return l}var n={props:{switchStyle:{type:Boolean,default:!0},tittle:{type:String,default:"选择图片"},width:{type:String,default:"35%"},height:{type:String,default:"1000px"}},data:function(){return{lblistImg:[],currentPage:1,selectImgUrl:"",default_image:'this.src="'+l("2fab")+'"',attachmentUrl:"",itemImgUrl:"",selectImgShow:-1,uploadUrl:"http://docker.0xiang.cn/admin/upload/upload",delImgList:{material_id:[],type:"image",server:"local"},lbimgList:{page:Number,appkey:Number,sign:"",timestamp:1576302261,token:"",type:"",storage_id:""},formImg:{nameinputImgUrl:""},isShowImg:!1}},methods:{showDio:function(){this.isShowImg=!0,this.aginDel()},closeImgUrl:function(){this.formImg.nameinputImgUrl="",this.selectImgUrl=""},deleteImg:function(){var t=this;""==this.lbimgList.storage_id?this.$message({type:"info",message:"请选择要删除的图片"}):function(e){return Object(a.a)({url:"/admin2/storage/delImg",method:"post",params:{},data:e})}(this.lbimgList).then(function(e){"success"==e.message?(t.$message({type:"success",message:"删除成功!"}),t.selectImgShow=-1,t.aginDel()):t.$message({type:"info",message:"请选择要删除的图片"})}).catch(function(e){})},openDeleteImg:function(){var e=this;this.$confirm("此操作将永久删除该图片, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteImg()}).catch(function(){e.lbimgList.storage_id="",e.selectImgShow=-1,e.$message({type:"info",message:"已取消删除"})})},aginDel:function(){var t=this;this.lbimgList.token=o.a.cookies.get("token"),this.lbimgList.appkey="86757125",this.lbimgList.sign=o.a.getSign(function(t){for(var e=1;e<arguments.length;e++){var l=null!=arguments[e]?arguments[e]:{};e%2?r(l,!0).forEach(function(e){Object(i.a)(t,e,l[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):r(l).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(l,e))})}return t}({},this.params)),this.lbimgList.timestamp=Math.round(new Date/1e3)+100,function(e){return Object(a.a)({url:"/admin2/storage/imgList",method:"post",params:{},data:e})}(this.lbimgList).then(function(e){t.lblistImg=e.data}).catch(function(e){})},onSuccess:function(e){"success"==e.message&&(this.currentPage=1,this.lbimgList.page=1,this.aginDel())},handleCurrentChange:function(e){this.lbimgList.page=e,this.currentPage=e,this.aginDel()},selectImg:function(e,t){this.selectImgShow=t,this.attachmentUrl=e.path,this.itemImgUrl=e.url,this.lbimgList.storage_id=e.storage_id},selectImgClose:function(e,t){this.selectImgShow=!t},dialogOk:function(){this.selectImgUrl=this.itemImgUrl,this.formImg.nameinputImgUrl=this.attachmentUrl,this.selectImgShow=-1,this.isShowImg=!1,this.$emit("uploadsendImg",{attachmentUrl:this.attachmentUrl,itemImgUrl:this.itemImgUrl})},dialogClose:function(){this.selectImgShow=-1,this.isShowImg=!1}}},s=(l("572e"),l("2877")),c=Object(s.a)(n,function(){var i=this,e=i.$createElement,a=i._self._c||e;return a("div",[a("el-form",{ref:"ruleFormImg",staticClass:"demo-ruleForm chart-wrapper",attrs:{model:i.formImg}},[a("el-form-item",{attrs:{prop:"uploadImg"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:i.formImg.nameinputImgUrl,callback:function(e){i.$set(i.formImg,"nameinputImgUrl",e)},expression:"formImg.nameinputImgUrl"}},[a("el-button",{staticClass:"fa fa-upload",attrs:{slot:"append",type:"primary"},on:{click:i.showDio},slot:"append"})],1),a("div",{staticClass:"selectImgInput"},[a("img",{attrs:{src:i.selectImgUrl,onerror:i.default_image,width:"150",alt:""}}),a("i",{staticClass:"el-icon-close",staticStyle:{position:"absolute",top:"0px",cursor:"pointer","font-size":"21px",width:"20px",height:"20px"},on:{click:i.closeImgUrl}})])],1)],1),a("el-dialog",{attrs:{modal:!0,"modal-append-to-body":!0,title:i.tittle,visible:i.isShowImg,width:i.width,height:i.height,"close-on-click-modal":!1,"show-close":!0,"close-on-press-escape":!0,center:""},on:{"update:visible":function(e){i.isShowImg=e}}},[a("el-row",{staticStyle:{"margin-bottom":"0px"},attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:6}}),a("el-col",{attrs:{span:6}},[a("div",[a("el-button",{staticStyle:{"margin-left":"80px"},attrs:{type:"danger"},on:{click:i.openDeleteImg}},[i._v("删除")]),a("el-upload",{staticClass:"upload-demo",staticStyle:{float:"right"},attrs:{"on-success":i.onSuccess,action:i.uploadUrl}},[a("el-button",{attrs:{type:"primary"}},[i._v("上传图片")])],1)],1)])],1),a("el-row",{attrs:{gutter:20}},i._l(i.lblistImg,function(t,l){return a("el-col",{key:t.id,staticClass:"selectImgMin",staticStyle:{width:"200px",height:"200px",border:"1px solid #f3f2f2"},attrs:{span:5}},[a("img",{attrs:{src:t.url,width:"100%",height:"100%",alt:""},on:{click:function(e){return i.selectImg(t,l)}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:i.selectImgShow===l,expression:"selectImgShow === index"}],staticClass:"selectImg",on:{click:function(e){return i.selectImgClose(t,l)}}},[a("i",{staticClass:"el-icon-check",staticStyle:{width:"200px",color:"#fff","font-size":"50px","text-align":"center","line-height":"200px"}})])])}),1),a("div",[a("el-pagination",{attrs:{background:"","current-page":i.currentPage,layout:"prev, pager, next","page-size":100,total:1e4},on:{"current-change":i.handleCurrentChange,"update:currentPage":function(e){i.currentPage=e},"update:current-page":function(e){i.currentPage=e}}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:i.dialogOk}},[i._v("确 定")]),a("el-button",{on:{click:i.dialogClose}},[i._v("取 消")])],1)],1)],1)},[],!1,null,null,null);t.a=c.exports},a320:function(e,t,l){"use strict";l.d(t,"a",function(){return a}),l.d(t,"b",function(){return o}),l.d(t,"c",function(){return r});var i=l("b775");function a(){return Object(i.a)({url:"/admin/upload/module",method:"post",params:{}})}function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"web";return Object(i.a)({url:"/admin/upload/token",method:"post",params:{},data:{module:e,type:t}})}function r(e){return Object(i.a)({url:"/v1/upload",method:"post",params:{method:"replace.upload.item"},data:{storage_id:e}})}},ec90:function(e,t,l){"use strict";var i=l("2d2d");l.n(i).a}}]);