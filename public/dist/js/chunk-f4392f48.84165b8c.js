(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f4392f48","chunk-2d0b596e"],{"1a19":function(t,a,e){"use strict";e.d(a,"a",function(){return n}),e.d(a,"e",function(){return i}),e.d(a,"b",function(){return c}),e.d(a,"c",function(){return o}),e.d(a,"d",function(){return u}),e.d(a,"g",function(){return s}),e.d(a,"f",function(){return f});var r=e("b775");function n(t){return Object(r.a)({url:"/admin2/article/addArticleItem",method:"post",params:{},data:t})}function i(t){return Object(r.a)({url:"/admin2/article/setArticleItem",method:"post",params:{},data:t})}function c(t){return Object(r.a)({url:"/admin2/article/delArticleList",method:"post",params:{},data:{article_id:t}})}function o(t){return Object(r.a)({url:"/admin2/article/getArticleItem",method:"post",params:{},data:{article_id:t}})}function u(t){return Object(r.a)({url:"/admin2/article/getArticleList",method:"post",params:{},data:t})}function s(t,a){return Object(r.a)({url:"admin2/article/setArticleTop",method:"post",params:{},data:{article_id:t,is_top:a}})}function f(t,a){return Object(r.a)({url:"/admin2/article/setArticleStatus",method:"post",params:{},data:{article_id:t,status:a}})}},"57ab":function(t,a,e){"use strict";e.d(a,"a",function(){return n}),e.d(a,"e",function(){return i}),e.d(a,"b",function(){return c}),e.d(a,"c",function(){return o}),e.d(a,"d",function(){return u});var r=e("b775");function n(t){return Object(r.a)({url:"/admin2/articleCat/addArticleCatItem",method:"post",params:{},data:t})}function i(t){return Object(r.a)({url:"/admin2/articleCat/setArticleCatItem",method:"post",params:{},data:t})}function c(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return Object(r.a)({url:"/admin2/articleCat/delArticleCatList",method:"post",params:{},data:{article_cat_id:t,not_empty:a}})}function o(t){return Object(r.a)({url:"/admin2/articleCat/articleCatList",method:"post",params:{},data:t})}function u(t){return Object(r.a)({url:"/v1/article_cat",method:"post",params:{method:"set.article.cat.index"},data:{article_cat_id:t}})}},e17f:function(t,a,e){"use strict";e.r(a);e("8e6e"),e("456d"),e("ac6a"),e("5df3");var r=e("bd86"),n=(e("6b54"),e("c5f6"),e("ca00")),i=e("57ab"),c=e("1a19");function o(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),e.push.apply(e,r)}return e}function u(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?o(e,!0).forEach(function(t){Object(r.a)(a,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):o(e).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(e,t))})}return a}var s={name:"system-article-article-update",components:{PageEdit:function(){return e.e("chunk-68915430").then(e.bind(null,"a05e"))}},props:{article_id:{type:[Number,String],required:!0}},data:function(){return{loading:!0,catList:[],catData:[],formData:{},formBuffer:[],isSourceRoute:!1}},mounted:function(){var t=this;this.$nextTick(function(){t.isSourceRoute||t.formBuffer.length||t.switchData(t.article_id)})},beforeRouteEnter:function(a,t,e){a.params.article_id?e(function(t){t.switchData(a.params.article_id),t.isSourceRoute=!0}):e(new Error("未指定ID"))},beforeRouteUpdate:function(t,a,e){t.params.article_id?(this.switchData(t.params.article_id),e()):e(new Error("未指定ID"))},methods:{setArticleData:function(t){return t.is_top=t.is_top.toString(),t.status=t.status.toString(),t},switchData:function(a){var e=this;this.formBuffer[a]?this.formData=this.formBuffer[a]:(this.$nextTick(function(){e.formData={},e.loading=!0}),this.catList.length?Object(c.c)(a).then(function(t){e.formBuffer[a]=e.setArticleData(u({},t.data)),e.formData=e.formBuffer[a]}).finally(function(){e.$nextTick(function(){e.loading=!1})}):Promise.all([Object(i.c)(null),Object(c.c)(a)]).then(function(t){e.catList=t[0].data||[],e.catList.length&&(e.catData=n.a.formatDataToTree(e.catList,"article_cat_id")),e.formBuffer[a]=e.setArticleData(u({},t[1].data)),e.formData=e.formBuffer[a]}).finally(function(){e.$nextTick(function(){e.loading=!1})}))}}},f=e("2877"),d=Object(f.a)(s,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("cs-container",{attrs:{"is-back-to-top":!0,"parent-path":"system-article-article"}},[e("page-edit",{attrs:{state:"update",loading:t.loading,catList:t.catList,catData:t.catData,formData:t.formData}})],1)},[],!1,null,null,null);a.default=d.exports}}]);