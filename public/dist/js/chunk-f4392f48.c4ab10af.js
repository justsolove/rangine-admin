(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f4392f48"],{"1a19":function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"e",function(){return c}),a.d(e,"b",function(){return i}),a.d(e,"c",function(){return o}),a.d(e,"d",function(){return u}),a.d(e,"g",function(){return s}),a.d(e,"f",function(){return f});var r=a("b775");function n(t){return Object(r.a)({url:"/v1/article",method:"post",params:{method:"add.article.item"},data:t})}function c(t){return Object(r.a)({url:"/v1/article",method:"post",params:{method:"set.article.item"},data:t})}function i(t){return Object(r.a)({url:"/v1/article",method:"post",params:{method:"del.article.list"},data:{article_id:t}})}function o(t){return Object(r.a)({url:"/v1/article",method:"post",params:{method:"get.article.item"},data:{article_id:t}})}function u(t){return Object(r.a)({url:"/v1/article",method:"post",params:{method:"get.article.list"},data:t})}function s(t,e){return Object(r.a)({url:"/v1/article",method:"post",params:{method:"set.article.top"},data:{article_id:t,is_top:e}})}function f(t,e){return Object(r.a)({url:"/v1/article",method:"post",params:{method:"set.article.status"},data:{article_id:t,status:e}})}},"57ab":function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"e",function(){return c}),a.d(e,"b",function(){return i}),a.d(e,"c",function(){return o}),a.d(e,"d",function(){return u});var r=a("b775");function n(t){return Object(r.a)({url:"/v1/article_cat",method:"post",params:{method:"add.article.cat.item"},data:t})}function c(t){return Object(r.a)({url:"/v1/article_cat",method:"post",params:{method:"set.article.cat.item"},data:t})}function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return Object(r.a)({url:"/v1/article_cat",method:"post",params:{method:"del.article.cat.list"},data:{article_cat_id:t,not_empty:e}})}function o(t){return Object(r.a)({url:"/v1/article_cat",method:"post",params:{method:"get.article.cat.list"},data:t})}function u(t){return Object(r.a)({url:"/v1/article_cat",method:"post",params:{method:"set.article.cat.index"},data:{article_cat_id:t}})}},e17f:function(t,e,a){"use strict";a.r(e);a("8e6e"),a("456d"),a("ac6a"),a("5df3");var r=a("bd86"),n=(a("6b54"),a("c5f6"),a("ca00")),c=a("57ab"),i=a("1a19");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach(function(t){Object(r.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var s={name:"system-article-article-update",components:{PageEdit:function(){return a.e("chunk-12141bf5").then(a.bind(null,"a05e"))}},props:{article_id:{type:[Number,String],required:!0}},data:function(){return{loading:!0,catList:[],catData:[],formData:{},formBuffer:[],isSourceRoute:!1}},mounted:function(){var t=this;this.$nextTick(function(){t.isSourceRoute||t.formBuffer.length||t.switchData(t.article_id)})},beforeRouteEnter:function(e,t,a){e.params.article_id?a(function(t){t.switchData(e.params.article_id),t.isSourceRoute=!0}):a(new Error("未指定ID"))},beforeRouteUpdate:function(t,e,a){t.params.article_id?(this.switchData(t.params.article_id),a()):a(new Error("未指定ID"))},methods:{setArticleData:function(t){return t.is_top=t.is_top.toString(),t.status=t.status.toString(),t},switchData:function(e){var a=this;this.formBuffer[e]?this.formData=this.formBuffer[e]:(this.$nextTick(function(){a.formData={},a.loading=!0}),this.catList.length?Object(i.c)(e).then(function(t){a.formBuffer[e]=a.setArticleData(u({},t.data)),a.formData=a.formBuffer[e]}).finally(function(){a.$nextTick(function(){a.loading=!1})}):Promise.all([Object(c.c)(null),Object(i.c)(e)]).then(function(t){a.catList=t[0].data||[],a.catList.length&&(a.catData=n.a.formatDataToTree(a.catList,"article_cat_id")),a.formBuffer[e]=a.setArticleData(u({},t[1].data)),a.formData=a.formBuffer[e]}).finally(function(){a.$nextTick(function(){a.loading=!1})}))}}},f=a("2877"),l=Object(f.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("cs-container",{attrs:{"is-back-to-top":!0,"parent-path":"system-article-article"}},[a("page-edit",{attrs:{state:"update",loading:t.loading,catList:t.catList,catData:t.catData,formData:t.formData}})],1)},[],!1,null,null,null);e.default=l.exports}}]);