(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c2a5b27e"],{"9da4":function(t,e,n){"use strict";n.r(e);var r=n("ca00"),o=n("6ee2"),a=n("f749"),i={props:{loading:{default:!1},tableData:{default:function(){return[]}}},watch:{tableData:{handler:function(t){this.currentTableData=t},immediate:!0}},data:function(){return{infoForm:{},infoVisible:!1,auth:{process:!1,complete:!1,refuse:!1},currentTableData:[],qrcodeUrl:"",statusMap:{0:{text:"待处理",type:"info"},1:{text:"处理中",type:""},2:{text:"已取消",type:"warning"},3:{text:"已完成",type:"success"},4:{text:"已拒绝",type:"danger"}}}},filters:{getNumber:function(t){return r.a.getNumber(t)}},mounted:function(){var e=this;this._validationAuth(),Object(a.c)().then(function(t){e.qrcodeUrl=t.data.call_url})},methods:{_validationAuth:function(){this.auth.process=this.$has("/member/withdraw/list/process"),this.auth.complete=this.$has("/member/withdraw/list/complete"),this.auth.refuse=this.$has("/member/withdraw/list/refuse")},sortChange:function(t){var e=t.column,n=t.prop,r=t.order,a={order_type:void 0,order_field:void 0};e&&r&&(a.order_type="ascending"===r?"asc":"desc",a.order_field=n),this.$emit("sort",a)},handleWithdraw:function(t){this.currentIndex=t,this.infoForm=this.currentTableData[t],this.infoVisible=!0},handleStatus:function(n){var r=this,a=this.currentTableData[this.currentIndex];if(1===n&&this.$confirm("确定要执行该操作吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnClickModal:!1}).then(function(){Object(o.c)(a.withdraw_no).then(function(){a.status=n,r.$message.success("操作成功")})}).catch(function(){}),3===n||4===n){var t="备注",e="请填写备注信息";4===n&&(t="拒绝",e="请填写拒绝原因"),this.$prompt(e,t,{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\S/,inputErrorMessage:e}).then(function(t){var e=t.value;3===n&&Object(o.a)(a.withdraw_no,e).then(function(){a.status=n,a.remark=e,r.$message.success("操作成功")}),4===n&&Object(o.d)(a.withdraw_no,e).then(function(){a.status=n,a.remark=e,r.$message.success("操作成功")})}).catch(function(){})}}}},s=n("2877"),c=Object(s.a)(i,function(){var n=this,t=n.$createElement,r=n._self._c||t;return r("div",{staticClass:"cs-p"},[r("cs-help",{staticStyle:{"padding-bottom":"19px"},attrs:{router:n.$route.path}}),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],attrs:{data:n.currentTableData,"highlight-current-row":"",stripe:""},on:{"sort-change":n.sortChange}},[r("el-table-column",{attrs:{label:"提现单号",prop:"withdraw_no","min-width":"160",sortable:"custom"}}),r("el-table-column",{attrs:{label:"提现金额",prop:"money"},scopedSlots:n._u([{key:"default",fn:function(t){return[r("b",[n._v(n._s(n._f("getNumber")(t.row.money)))])]}}])}),r("el-table-column",{attrs:{label:"手续费(%)",prop:"fee"}}),r("el-table-column",{attrs:{label:"合计金额",prop:"amount"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n        "+n._s(n._f("getNumber")(t.row.amount))+"\n      ")]}}])}),r("el-table-column",{attrs:{label:"状态",prop:"status",align:"center",sortable:"custom","min-width":"100"},scopedSlots:n._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:n.statusMap[t.row.status].type,effect:"plain",size:"mini"}},[n._v("\n          "+n._s(n.statusMap[t.row.status].text)+"\n        ")])]}}])}),r("el-table-column",{attrs:{label:"创建日期",prop:"create_time",align:"center",width:"160",sortable:"custom"}}),r("el-table-column",{attrs:{label:"操作",align:"center","min-width":"100"},scopedSlots:n._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){return n.handleWithdraw(e.$index)}}},[n._v("提单详细")])]}}])})],1),r("el-dialog",{ref:"print",attrs:{title:"提单详细",visible:n.infoVisible,"append-to-body":!0,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){n.infoVisible=t}}},[n.infoVisible?r("div",{staticStyle:{"margin-top":"-25px"}},[r("table",{staticStyle:{width:"100%"}},[r("caption",[r("p",{staticStyle:{"background-color":"#f8f8f9"}},[n._v("提现单据")])]),r("tr",[r("td",[r("b",[n._v("提现单号：")]),n._v(n._s(n.infoForm.withdraw_no))]),r("td",[r("b",[n._v("账号/昵称：")]),n._v(n._s(n.infoForm.get_user.username)+" / "+n._s(n.infoForm.get_user.nickname))])]),r("tr",[r("td",[n._v("创建日期："+n._s(n.infoForm.create_time))])])]),r("table",{staticStyle:{width:"100%"}},[r("colgroup",[r("col",{staticStyle:{width:"15%"}}),r("col",{staticStyle:{width:"75%"}})]),r("caption",[r("p",{staticStyle:{"background-color":"#f8f8f9"}},[n._v("收款明细")])]),r("tr",[r("td",[n._v("收款人姓名：")]),r("td",[n._v(n._s(n.infoForm.name))])]),r("tr",[r("td",[n._v("收款人手机：")]),r("td",[n._v(n._s(n.infoForm.mobile))])]),r("tr",[r("td",[n._v("收款账户：")]),r("td",[n._v(n._s(n.infoForm.bank_name))])]),r("tr",[r("td",[n._v("收款账号：")]),r("td",[n._v(n._s(n.infoForm.account))])]),r("tr",[r("td",[n._v(" ")])]),r("tr",[r("td",[r("b",[n._v("提现金额：")])]),r("td",[n._v(n._s(n._f("getNumber")(n.infoForm.money)))])]),r("tr",[r("td",[n._v("手续费：")]),r("td",[n._v(n._s(n.infoForm.fee)+" %")])]),r("tr",[r("td",[n._v("合计金额：")]),r("td",[n._v(n._s(n._f("getNumber")(n.infoForm.amount)))])])]),r("table",{staticStyle:{width:"100%"}},[r("caption",[r("p",{staticStyle:{"background-color":"#f8f8f9"}},[n._v("其他内容")])]),r("tbody",[r("tr",[r("td",[r("span",[n._v("状态：")]),r("el-tag",{attrs:{type:n.statusMap[n.infoForm.status].type,effect:"plain",size:"mini"}},[n._v("\n              "+n._s(n.statusMap[n.infoForm.status].text)+"\n            ")])],1),r("td",{attrs:{rowspan:"2"}},[n.qrcodeUrl?r("el-image",{staticStyle:{float:"right"},attrs:{src:n.qrcodeUrl+"?text="+n.infoForm.withdraw_no,fit:"fill"}}):n._e()],1)]),r("tr",[r("td",{staticStyle:{width:"70%"}},[n._v("备注："+n._s(n.infoForm.remark))])])])])]):n._e(),r("div",{staticClass:"dialog-footer no-print",attrs:{slot:"footer"},slot:"footer"},[r("div",{staticStyle:{float:"left"}},[r("el-button",{attrs:{size:"small"},on:{click:function(t){return n.$print(n.$refs.print)}}},[r("cs-icon",{attrs:{name:"print"}}),n._v("\n          打印")],1)],1),0===n.infoForm.status&&n.auth.process?r("el-button",{attrs:{size:"small"},on:{click:function(t){return n.handleStatus(1)}}},[n._v("处理提现")]):n._e(),1===n.infoForm.status&&n.auth.complete?r("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return n.handleStatus(3)}}},[n._v("完成提现")]):n._e(),1===n.infoForm.status&&n.auth.refuse?r("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return n.handleStatus(4)}}},[n._v("拒绝提现")]):n._e(),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){n.infoVisible=!1}}},[n._v("确定")])],1)])],1)},[],!1,null,null,null);e.default=c.exports},f749:function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o}),n.d(e,"e",function(){return i}),n.d(e,"d",function(){return s}),n.d(e,"b",function(){return c});var r=n("b775");function a(){return Object(r.a)({url:"/v1/qrcode",method:"post",params:{method:"get.qrcode.callurl"}})}function o(t){return Object(r.a)({url:"/v1/qrcode",method:"post",params:{method:"add.qrcode.item"},data:t})}function i(t){return Object(r.a)({url:"/v1/qrcode",method:"post",params:{method:"set.qrcode.item"},data:t})}function s(t){return Object(r.a)({url:"/v1/qrcode",method:"post",params:{method:"get.qrcode.list"},data:t})}function c(t){return Object(r.a)({url:"/v1/qrcode",method:"post",params:{method:"del.qrcode.list"},data:{qrcode_id:t}})}}}]);