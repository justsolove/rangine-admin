(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7568766f"],{"3a7f":function(t,e,r){"use strict";r.r(e);r("8e6e"),r("456d");var a=r("bd86"),u=(r("ac6a"),r("5df3"),r("a308")),n=r("c784"),o=r("ca7e");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,u)}return r}var c={name:"system-auth-rule",components:{PageHeader:function(){return r.e("chunk-2d0ceb81").then(r.bind(null,"613c"))},PageMain:function(){return r.e("chunk-590f3d8b").then(r.bind(null,"630f"))}},data:function(){return{loading:!0,tree:[],module:{},group:{}}},mounted:function(){var e=this;Promise.all([Object(u.e)(),Object(n.c)({status:1})]).then(function(t){e.module=t[0],t[1].data.forEach(function(t){e.group[t.group_id]=t})}).then(function(){e.handleSubmit()})},methods:{handleRefresh:function(){var t=this;this.$nextTick(function(){t.$refs.header.handleFormSubmit()})},handleSubmit:function(u){var n=this;this.loading=!0,Object(o.c)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach(function(t){Object(a.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},u)).then(function(t){n.tree=[];var e=[];for(var r in n.module)n.module.hasOwnProperty(r)&&(u&&u.module&&u.module!==r||(e[r]=n.tree.push({rule_id:r,name:n.module[r],children:[],system:!0,module:r,status:1})));0<t.data.length&&t.data.forEach(function(t){n.tree[e[t.module]-1].children.push(t)}),n.$refs.rule&&(n.$refs.rule.filterText="",n.$refs.rule.resetForm(),n.$refs.rule.resetElements())}).finally(function(){n.loading=!1})}}},i=r("2877"),s=Object(i.a)(c,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("cs-container",{attrs:{"is-back-to-top":!0}},[r("page-header",{ref:"header",attrs:{slot:"header",loading:t.loading,module:t.module,group:t.group},on:{submit:t.handleSubmit},slot:"header"}),r("page-main",{ref:"rule",attrs:{"tree-data":t.tree,loading:t.loading,module:t.module,group:t.group},on:{refresh:t.handleRefresh}})],1)},[],!1,null,null,null);e.default=s.exports},c784:function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"d",function(){return a}),r.d(e,"b",function(){return o}),r.d(e,"c",function(){return d}),r.d(e,"f",function(){return c}),r.d(e,"e",function(){return i});var u=r("b775");function n(t){return Object(u.a)({url:"/v1/auth_group",method:"post",params:{method:"add.auth.group.item"},data:t})}function a(t){return Object(u.a)({url:"/v1/auth_group",method:"post",params:{method:"set.auth.group.item"},data:t})}function o(t){return Object(u.a)({url:"/v1/auth_group",method:"post",params:{method:"del.auth.group.item"},data:{group_id:t}})}function d(t){return Object(u.a)({url:"/v1/auth_group",method:"post",params:{method:"get.auth.group.list"},data:t})}function c(t,e){return Object(u.a)({url:"/v1/auth_group",method:"post",params:{method:"set.auth.group.status"},data:{group_id:t,status:e}})}function i(t,e){return Object(u.a)({url:"/v1/auth_group",method:"post",params:{method:"set.auth.group.sort"},data:{group_id:t,sort:e}})}},ca7e:function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"e",function(){return a}),r.d(e,"b",function(){return o}),r.d(e,"c",function(){return d}),r.d(e,"f",function(){return c}),r.d(e,"d",function(){return i});var u=r("b775");function n(t){return Object(u.a)({url:"/v1/auth_rule",method:"post",params:{method:"add.auth.rule.item"},data:t})}function a(t){return Object(u.a)({url:"/v1/auth_rule",method:"post",params:{method:"set.auth.rule.item"},data:t})}function o(t){return Object(u.a)({url:"/v1/auth_rule",method:"post",params:{method:"del.auth.rule.list"},data:{rule_id:t}})}function d(t){return Object(u.a)({url:"/v1/auth_rule",method:"post",params:{method:"get.auth.rule.list"},data:t})}function c(t,e){return Object(u.a)({url:"/v1/auth_rule",method:"post",params:{method:"set.auth.rule.status"},data:{rule_id:t,status:e}})}function i(t){return Object(u.a)({url:"/v1/auth_rule",method:"post",params:{method:"set.auth.rule.index"},data:{rule_id:t}})}}}]);